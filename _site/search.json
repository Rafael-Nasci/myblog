[
  {
    "objectID": "posts/welcome/index.html",
    "href": "posts/welcome/index.html",
    "title": "Welcome To My Blog",
    "section": "",
    "text": "This is the first post in a Quarto blog. Welcome!\n\nSince this post doesn‚Äôt specify an explicit image, the first image in the post will be used in the listing page of posts."
  },
  {
    "objectID": "posts/post-with-code/index.html",
    "href": "posts/post-with-code/index.html",
    "title": "Post With Code",
    "section": "",
    "text": "This is a post with executable code."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this blog"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "myblog",
    "section": "",
    "text": "Atividade 2 ‚Äî Monitoramento da Frota de √înibus\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAtividade 3 ‚Äî Regress√£o Linear\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAtividade 1 ‚Äî Cota√ß√£o do D√≥lar\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPost With Code\n\n\n\nnews\n\ncode\n\nanalysis\n\n\n\n\n\n\n\n\n\nNov 24, 2025\n\n\nHarlow Malloc\n\n\n\n\n\n\n\n\n\n\n\n\nWelcome To My Blog\n\n\n\nnews\n\n\n\n\n\n\n\n\n\nNov 21, 2025\n\n\nTristan O‚ÄôMalley\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/post-with-code/atividade1.html",
    "href": "posts/post-with-code/atividade1.html",
    "title": "Atividade 1 ‚Äî Cota√ß√£o do D√≥lar",
    "section": "",
    "text": "Mostrar c√≥digo\nimport requests\nimport pandas as pd\nimport calendar\nfrom datetime import datetime\nimport plotly.express as px\n\ndef cotacao_dolar_periodo(mmyyyy: str):\n\n    # Datas inicial e final do m√™s\n    first_date = datetime.strptime(mmyyyy, \"%m%Y\")\n    last_day = calendar.monthrange(first_date.year, first_date.month)[1]\n    last_date = first_date.replace(day=last_day)\n\n    # Datas no formato exigido pela API\n    data_ini = first_date.strftime(\"%m-%d-%Y\")\n    data_fim = last_date.strftime(\"%m-%d-%Y\")\n\n    # URL da API do Banco Central\n    url = (\n        \"https://olinda.bcb.gov.br/olinda/servico/PTAX/versao/v1/odata/\"\n        f\"CotacaoDolarPeriodo(dataInicial=@dataInicial,dataFinalCotacao=@dataFinalCotacao)?\"\n        f\"@dataInicial='{data_ini}'&@dataFinalCotacao='{data_fim}'&$format=json\"\n    )\n\n    # Requisi√ß√£o\n    response = requests.get(url)\n    data = response.json()[\"value\"]\n\n    # DataFrame com a resposta\n    df = pd.DataFrame(data)\n\n    # CONVERS√ÉO IMPORTANTE (evita o erro!)\n    df[\"dataHoraCotacao\"] = pd.to_datetime(df[\"dataHoraCotacao\"]).dt.normalize()\n\n    df = df[[\"dataHoraCotacao\", \"cotacaoCompra\"]]\n\n    # Gerar todas as datas do m√™s\n    datas_completas = pd.date_range(start=first_date, end=last_date)\n\n    df_final = pd.DataFrame({\"data\": datas_completas})\n\n    # CONVERTER TAMB√âM AQUI (para o mesmo tipo)\n    df_final[\"data\"] = pd.to_datetime(df_final[\"data\"]).dt.normalize()\n\n    # Merge SEM erro\n    df_merge = df_final.merge(\n        df,\n        how=\"left\",\n        left_on=\"data\",\n        right_on=\"dataHoraCotacao\"\n    )\n\n    # Preencher dias sem cota√ß√£o\n    df_merge[\"cotacaoCompra\"] = df_merge[\"cotacaoCompra\"].ffill()\n\n    # Gr√°fico\n    fig = px.line(\n        df_merge,\n        x=\"data\",\n        y=\"cotacaoCompra\",\n        title=f\"Cota√ß√£o do D√≥lar ‚Äî {mmyyyy[:2]}/{mmyyyy[2:]}\"\n    )\n\n    return fig\n\n# Mostrar o gr√°fico no Quarto\nfig = cotacao_dolar_periodo(\"082021\")\nfig"
  },
  {
    "objectID": "posts/post-with-code/atividade2.html",
    "href": "posts/post-with-code/atividade2.html",
    "title": "Atividade 2 ‚Äî Monitoramento da Frota de √înibus",
    "section": "",
    "text": "import os import requests from dotenv import load_dotenv import folium\n\nCarregar token do .env\nload_dotenv(‚Äú.env‚Äù) TOKEN = os.getenv(‚ÄúONIBUS_TOKEN‚Äù) # &lt;‚Äì CORRE√á√ÉO AQUI API = ‚Äúhttp://api.olhovivo.sptrans.com.br/v2.1‚Äù\n\n\nLinha desejada\nlinha_usuario = ‚Äú2506‚Äù\n\n\nAutentica√ß√£o\ns = requests.Session() res = s.post(f‚Äù{API}/Login/Autenticar?token={TOKEN}‚Äú) print(‚ÄùAutentica√ß√£o:‚Äú, res.text)\n\n\n‚Äî‚Äî‚Äì FUN√á√ïES ‚Äî‚Äî‚Äì\ndef buscar_codigos(entrada): termo = entrada.split(‚Äú-‚Äù)[0] r = s.get(f‚Äù{API}/Linha/Buscar?termosBusca={termo}‚Äú) dados = r.json()\nprint(\"\\nLinhas encontradas:\")\nfor d in dados:\n    print(d)\n\nreturn [d[\"cl\"] for d in dados]\ndef buscar_itinerario(cod): r = s.get(f‚Äù{API}/Itinerario?codigoLinha={cod}‚Äú) data = r.json()\ntraj = []\nparadas = []\n\nfor k, v in data.items():\n    if k.isdigit():\n        traj.append([v[\"py\"], v[\"px\"]])\n    elif k.startswith(\"p\"):\n        paradas.append({\n            \"nome\": v[\"np\"],\n            \"lat\": v[\"py\"],\n            \"lng\": v[\"px\"]\n        })\n\nreturn traj, paradas\ndef buscar_posicao(cod): r = s.get(f‚Äù{API}/Posicao/Linha?codigoLinha={cod}‚Äú) dados = r.json() return dados.get(‚Äùvs‚Äù, [])\n\n\n‚Äî‚Äî‚Äì PROCESSAMENTO ‚Äî‚Äî‚Äì\ntodos_codigos = buscar_codigos(linha_usuario)\nmelhor_trajeto = None melhor_paradas = None codigo_escolhido = None\nprint(‚Äúitiner√°rios‚Ä¶‚Äù)\nfor cod in todos_codigos: traj, par = buscar_itinerario(cod)\nprint(f\"C√≥digo {cod} ‚Üí Pontos da rota: {len(traj)} / Paradas: {len(par)}\")\n\nif len(traj) &gt; 0:\n    melhor_trajeto = traj\n    melhor_paradas = par\n    codigo_escolhido = cod\n    break\n\n\nCaso n√£o tenha rota, usar somente paradas\nif melhor_trajeto is None: print(‚Äútrajeto, buscando apenas paradas‚Ä¶‚Äù) for cod in todos_codigos: r = s.get(f‚Äù{API}/Parada/BuscarParadasPorLinha?codigoLinha={cod}‚Äú) par = r.json()\n    if len(par) &gt; 0:\n        melhor_paradas = [{\n            \"nome\": p[\"np\"],\n            \"lat\": p[\"py\"],\n            \"lng\": p[\"px\"]\n        } for p in par]\n\n        melhor_trajeto = []\n        codigo_escolhido = cod\n        print(f\"Usando paradas do c√≥digo {cod}\")\n        break\nif melhor_paradas is None: raise Exception(‚ÄúAPI n√£o retornou nenhum dado para essa linha.‚Äù)\n\n\n‚Äî‚Äî‚Äì Posicionamento dos ve√≠culos ‚Äî‚Äî‚Äì\nveiculos = buscar_posicao(codigo_escolhido) print(f‚Äùencontrados agora: {len(veiculos)}‚Äú)\n\n\n‚Äî‚Äî‚Äì MAPA ‚Äî‚Äî‚Äì\nif melhor_trajeto: lat0, lng0 = melhor_trajeto[0] else: lat0, lng0 = melhor_paradas[0][‚Äúlat‚Äù], melhor_paradas[0][‚Äúlng‚Äù]\nm = folium.Map(location=[lat0, lng0], zoom_start=13)\n\n\nRota da linha\nif melhor_trajeto: folium.PolyLine( melhor_trajeto, weight=4, color=‚Äúblue‚Äù, tooltip=‚ÄúRota do √¥nibus‚Äù ).add_to(m)\n\n\nParadas\nfor p in melhor_paradas: folium.Marker( [p[‚Äúlat‚Äù], p[‚Äúlng‚Äù]], popup=p[‚Äúnome‚Äù], icon=folium.Icon(color=‚Äúgreen‚Äù, icon=‚Äúinfo-sign‚Äù) ).add_to(m)\n\n\nVe√≠culos (posi√ß√£o atual)\nfor v in veiculos: folium.Marker( [v[‚Äúpy‚Äù], v[‚Äúpx‚Äù]], popup=f‚ÄùPrefixo: {v[‚Äòp‚Äô]}‚Äú, icon=folium.Icon(color=‚Äùred‚Äù) ).add_to(m)\n\n\n‚Äî SALVAR DENTRO DA MESMA PASTA DO .QMD ‚Äî\n\n\nCaminho do pr√≥prio arquivo .qmd renderizado\noutput_dir = ‚Äúposts/post-with-code‚Äù\nos.makedirs(output_dir, exist_ok=True)\ncaminho_mapa = os.path.join(output_dir, ‚Äúonibus_mapa.html‚Äù) m.save(caminho_mapa)\n\n\nMostrar via iframe\nfrom IPython.display import HTML\nHTML(‚Äú‚Äú‚Äù  ‚Äú‚Äú‚Äú)"
  },
  {
    "objectID": "posts/post-with-code/atividade2.html#configura√ß√£o-e-autentica√ß√£o",
    "href": "posts/post-with-code/atividade2.html#configura√ß√£o-e-autentica√ß√£o",
    "title": "Atividade 2 ‚Äî Monitoramento de Frota de √înibus",
    "section": "",
    "text": "import requests import folium"
  },
  {
    "objectID": "posts/post-with-code/atividade2.html#configura√ß√£o-autentica√ß√£o-e-busca-inicial",
    "href": "posts/post-with-code/atividade2.html#configura√ß√£o-autentica√ß√£o-e-busca-inicial",
    "title": "Atividade 2 ‚Äî Monitoramento de Frota de √înibus",
    "section": "",
    "text": "#| output: false import requests import folium"
  },
  {
    "objectID": "posts/post-with-code/atividade2.html#criar-e-exibir-o-mapa-interativo-renderiza√ß√£o-for√ßada",
    "href": "posts/post-with-code/atividade2.html#criar-e-exibir-o-mapa-interativo-renderiza√ß√£o-for√ßada",
    "title": "Atividade 2 ‚Äî Monitoramento de Frota de √înibus",
    "section": "5. Criar e Exibir o Mapa Interativo (Renderiza√ß√£o For√ßada) üó∫Ô∏è",
    "text": "5. Criar e Exibir o Mapa Interativo (Renderiza√ß√£o For√ßada) üó∫Ô∏è\nfrom IPython.display import display"
  },
  {
    "objectID": "posts/post-with-code/atividade2.html#configura√ß√£o-e-dados-iniciais",
    "href": "posts/post-with-code/atividade2.html#configura√ß√£o-e-dados-iniciais",
    "title": "Atividade 2 ‚Äî Monitoramento de Frota de √înibus",
    "section": "",
    "text": "#| output: false #| echo: false # Desliga o c√≥digo para as c√©lulas de dados.\nimport requests import folium"
  },
  {
    "objectID": "posts/post-with-code/atividade3.html",
    "href": "posts/post-with-code/atividade3.html",
    "title": "Atividade 3 ‚Äî Regress√£o Linear",
    "section": "",
    "text": "Nesta atividade, calculamos a regress√£o linear entre anos de estudo (X) e sal√°rio (Y) utilizando a solu√ß√£o matricial (\\(\\beta = (X^T X)^{-1} X^T y\\)).\n\n\n\n\n\nMostrar c√≥digo\nimport numpy as np\nimport pandas as pd\n\n# ------------------------------------------------------------------\n# SIMULA√á√ÉO DA LEITURA DOS ARQUIVOS (X.txt e y.txt)\n# ------------------------------------------------------------------\nvalores_x = np.array([10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20])\nvalores_y = np.array([2500, 3000, 3800, 4200, 5000, 5500, 6100, 6800, 7500, 8100, 9000])\n\n# ------------------------------------------------------------------\n# C√ÅLCULO DA REGRESS√ÉO LINEAR (SOLU√á√ÉO MATRICIAL)\n# ------------------------------------------------------------------\nX = np.vstack([np.ones(len(valores_x)), valores_x]).T\ny = valores_y\n\nXTX_inv = np.linalg.inv(X.T @ X)\nbeta = XTX_inv @ X.T @ y\n\na = beta[0]\nb = beta[1]\n\n\n\n\n\n\n\n\n\n\nMostrar c√≥digo\nfrom plotnine import (\n  ggplot, aes, geom_point, geom_abline, theme, element_text, ggsave) \n\n# Importa√ß√£o CRUCIAL para exibir o arquivo PNG salvo\nfrom IPython.display import Image, display\n\n# Cria o DataFrame\ndf = {\"x\": valores_x, \"y\": valores_y}\n\n# Cria o objeto plot\nplot = (\n  ggplot(pd.DataFrame(df), aes(\"x\", \"y\"))\n  + geom_point(color=\"blue\")\n  + geom_abline(intercept=a, slope=b, color=\"red\", size=1)\n  + theme(text=element_text(size=12))\n)\n\n# Salva a imagem no disco (necess√°rio para evitar o KeyError)\nnome_arquivo_png = \"grafico_regressao.png\"\nplot.save(nome_arquivo_png, width=6, height=4, units='in')\n\n# Carrega e exibe o arquivo PNG salvo, garantindo que ele apare√ßa no blog.\ndisplay(Image(filename=nome_arquivo_png))\n\n\n\n\n\nRegress√£o Linear: Sal√°rio (y) vs.¬†Anos de Estudo (x)"
  },
  {
    "objectID": "posts/post-with-code/atividade3.html#carregamento-dos-dados-e-c√°lculo-da-regress√£o",
    "href": "posts/post-with-code/atividade3.html#carregamento-dos-dados-e-c√°lculo-da-regress√£o",
    "title": "Atividade 3 ‚Äî Regress√£o Linear",
    "section": "",
    "text": "Mostrar c√≥digo\nimport numpy as np\nimport pandas as pd\n\n# ------------------------------------------------------------------\n# SIMULA√á√ÉO DA LEITURA DOS ARQUIVOS (X.txt e y.txt)\n# ------------------------------------------------------------------\nvalores_x = np.array([10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20])\nvalores_y = np.array([2500, 3000, 3800, 4200, 5000, 5500, 6100, 6800, 7500, 8100, 9000])\n\n# ------------------------------------------------------------------\n# C√ÅLCULO DA REGRESS√ÉO LINEAR (SOLU√á√ÉO MATRICIAL)\n# ------------------------------------------------------------------\nX = np.vstack([np.ones(len(valores_x)), valores_x]).T\ny = valores_y\n\nXTX_inv = np.linalg.inv(X.T @ X)\nbeta = XTX_inv @ X.T @ y\n\na = beta[0]\nb = beta[1]"
  },
  {
    "objectID": "posts/post-with-code/atividade2.html#processamento-de-dados-oculto",
    "href": "posts/post-with-code/atividade2.html#processamento-de-dados-oculto",
    "title": "Atividade 2 ‚Äî Monitoramento de Frota de √înibus",
    "section": "",
    "text": "#| output: false ¬†# Oculta todos os prints e outputs da busca de dados #| echo: true ¬† ¬† # Mant√©m o c√≥digo vis√≠vel, dobr√°vel\nimport requests import folium import os # Necess√°rio para fun√ß√µes de caminho de arquivo"
  },
  {
    "objectID": "posts/post-with-code/atividade3.html#gr√°fico-da-regress√£o-estimada",
    "href": "posts/post-with-code/atividade3.html#gr√°fico-da-regress√£o-estimada",
    "title": "Atividade 3 ‚Äî Regress√£o Linear",
    "section": "",
    "text": "Mostrar c√≥digo\nfrom plotnine import (\n  ggplot, aes, geom_point, geom_abline, theme, element_text, ggsave) \n\n# Cria o DataFrame\ndf = {\"x\": valores_x, \"y\": valores_y}\n\nplot = (\n  ggplot(pd.DataFrame(df), aes(\"x\", \"y\"))\n  + geom_point(color=\"blue\")\n  + geom_abline(intercept=a, slope=b, color=\"red\", size=1)\n  + theme(text=element_text(size=12))\n)\n\n# Apenas salva a imagem; n√£o exibe o objeto 'plot'.\n# Isso garante que a imagem PNG √© gerada, e o Quarto ir√° detect√°-la \n# e inseri-la no documento, evitando o erro de renderiza√ß√£o do Plotnine.\nplot.save(\"grafico_regressao.png\", width=6, height=4, units='in')\n\n# &gt;&gt;&gt; REMOVA OU COMENTE A LINHA ABAIXO PARA EVITAR O KEYERROR:\n# plot"
  },
  {
    "objectID": "posts/post-with-code/atividade3.html#gr√°fico-da-regress√£o-estimada-1",
    "href": "posts/post-with-code/atividade3.html#gr√°fico-da-regress√£o-estimada-1",
    "title": "Atividade 3 ‚Äî Regress√£o Linear",
    "section": "",
    "text": "Mostrar c√≥digo\nfrom plotnine import (\n  ggplot, aes, geom_point, geom_abline, theme, element_text, ggsave) \n\n# Importa√ß√£o CRUCIAL para exibir o arquivo PNG salvo\nfrom IPython.display import Image, display\n\n# Cria o DataFrame\ndf = {\"x\": valores_x, \"y\": valores_y}\n\n# Cria o objeto plot\nplot = (\n  ggplot(pd.DataFrame(df), aes(\"x\", \"y\"))\n  + geom_point(color=\"blue\")\n  + geom_abline(intercept=a, slope=b, color=\"red\", size=1)\n  + theme(text=element_text(size=12))\n)\n\n# Salva a imagem no disco (necess√°rio para evitar o KeyError)\nnome_arquivo_png = \"grafico_regressao.png\"\nplot.save(nome_arquivo_png, width=6, height=4, units='in')\n\n# Carrega e exibe o arquivo PNG salvo, garantindo que ele apare√ßa no blog.\ndisplay(Image(filename=nome_arquivo_png))\n\n\n\n\n\nRegress√£o Linear: Sal√°rio (y) vs.¬†Anos de Estudo (x)"
  },
  {
    "objectID": "posts/post-with-code/atividade2.html#configura√ß√£o-e-busca-de-dados",
    "href": "posts/post-with-code/atividade2.html#configura√ß√£o-e-busca-de-dados",
    "title": "1. Configura√ß√£o e Busca de Dados",
    "section": "",
    "text": "#| label: busca-dados #| output: true # TEMPORARIAMENTE: MUDAMOS PARA TRUE PARA DEBUG #| echo: true\nimport requests import folium from IPython.display import display"
  }
]